{% extends 'base.html' %}
{% block title %}Товари{% endblock %}

{% block content %}
<h1>Товари</h1>

<div class="product-grid">
    {% for product in products %}
        <div class="product-card">
            <a href="{% url 'product-detail' product.pk %}">
                <img src="{{ product.image.url }}" alt="{{ product.title }}" width="200">
                <h2>{{ product.title }}</h2>
                <p>{{ product.price }} грн</p>
                <p>Рейтинг: {{ product.average_rating }} / 5</p>
            </a>

            <form
                hx-post="{% url 'add-to-cart' product.pk %}"
                hx-trigger="click"
                hx-target="this"
                hx-swap="outerHTML">
                {% csrf_token %}
                <button type="submit">Додати в кошик</button>
            </form>
        </div>
    {% empty %}
        <p>Немає товарів.</p>
    {% endfor %}
</div>
{% endblock %}
